% 手工计算的差分放大器的Jacobian矩阵

function J=Jamp(X,Vin)

    J(1,1)=1/80000+0.012075*(1.65-X(3)-0.7)*(1.65-X(3)-0.7)*0.1;
    J(1,2)=0;
    J(1,3)=0.012075*(1.65-X(3)-0.7)*(1.65-X(3)-0.7)*(-0.1)+0.012075*(-2)*(1.65-X(3)-0.7)*(1+0.1*(X(1)-X(3)));
    J(2,1)=0;
    J(2,2)=1/80000+0.012075*(Vin-X(3)-0.7)*(Vin-X(3)-0.7)*0.1;
    J(2,3)=0.012075*(Vin-X(3)-0.7)*(Vin-X(3)-0.7)*(-0.1)+0.012075*(-2)*(Vin-X(3)-0.7)*(1+0.1*(X(2)-X(3)));
    J(3,1)=-0.012075*(1.65-X(3)-0.7)*(1.65-X(3)-0.7)*0.1;
    J(3,2)=-0.012075*(Vin-X(3)-0.7)*(Vin-X(3)-0.7)*0.1;
    J(3,3)=-J(1,3)-J(2,3);       %简便起见直接饮用已经计算好的变量
end 